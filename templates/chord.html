{% extends "base.html" %}

{% block head %}
{{ super() }}
{% endblock %}

{% block body %}
{{ super() }}

<h1>CHORD CHART</h1>

<div id="loading-spinner" class="text-center">
    <span>Please wait, it can take some minutes to compute this plot...</span>
    <div id="spinner-1" class="spinner-border text-primary" role="status"></div>
</div>

<iframe id="frame" frameborder='0' noresize='noresize' style='position: absolute; background: transparent; width: 100%; height:100%;' src="{{ iframe }}" frameborder="0"></iframe>


<script type = "text/javascript">

    //todo: remove spinner after iframe is loaded
$(document).ready(function () {    
    //correct link to text tag:
    $("#pagelink").attr("href", "/associations");
    $("#pagelink").text("View associations");
});

$("#frame").on("load", function () {
    console.log("loaded page");
    // $("#spinner-1").hide();
    $("#loading-spinner").hide();
});
</script>

{% endblock %}

{% block footer %}
{{ super() }}
{% endblock %}